{% extends "base.html" %}
{% block content %}
<h2 class="mb-4">Parça Listesi</h2>

<div class="card">
  <div class="card-body">
    <table id="partsTable" class="table table-striped table-bordered w-100">
      <thead>
        <tr>
          <th>ID</th>
          <th>Tip</th>
          <th>Uçak Türü</th>
          <th>Durum</th>
          <th>Oluşturan Takım</th>
          <th>Oluşturma Tarihi</th>
        </tr>
      </thead>
    </table>
  </div>
</div>

<script>
  $(document).ready(function() {
    $('#partsTable').DataTable({
      processing: true,
      serverSide: true,
      ajax: {
        url: '/api/parts/',
        headers: { 'Authorization': 'Token ' + localStorage.getItem('authToken') },
        dataSrc: 'results'
      },
      columns: [
        { data: 'id' },
        { data: 'type' },
        { data: 'aircraft_type' },
        { data: 'status' },
        { data: 'team' },
        { data: 'created_at' }
      ],
      lengthMenu: [10, 25, 50],
      order: [[0, 'desc']]
    });
  });
</script>
{% endblock %}
